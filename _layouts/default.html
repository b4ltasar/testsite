<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% if page.title %}{{ page.title }} · {% endif %}{{ site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}"/>

<link rel="stylesheet" href="{{ '/assets/styles.css' | relative_url }}">

  <!-- CSS-variabler fra theme.yml (+ dark mode) -->
  <style>
    :root{
      --bg:    {{ site.data.theme.light.bg }};
      --text:  {{ site.data.theme.light.text }};
      --muted: {{ site.data.theme.light.muted }};
      --card:  {{ site.data.theme.light.card }};
      --border:{{ site.data.theme.light.border }};
      --accent:{{ site.data.theme.light.accent }};
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:    {{ site.data.theme.dark.bg }};
        --text:  {{ site.data.theme.dark.text }};
        --muted: {{ site.data.theme.dark.muted }};
        --card:  {{ site.data.theme.dark.card }};
        --border:{{ site.data.theme.dark.border }};
        --accent:{{ site.data.theme.dark.accent }};
      }
    }
    :root[data-theme="light"]{
      --bg:    {{ site.data.theme.light.bg }};
      --text:  {{ site.data.theme.light.text }};
      --muted: {{ site.data.theme.light.muted }};
      --card:  {{ site.data.theme.light.card }};
      --border:{{ site.data.theme.light.border }};
      --accent:{{ site.data.theme.light.accent }};
    }
    :root[data-theme="dark"]{
      --bg:    {{ site.data.theme.dark.bg }};
      --text:  {{ site.data.theme.dark.text }};
      --muted: {{ site.data.theme.dark.muted }};
      --card:  {{ site.data.theme.dark.card }};
      --border:{{ site.data.theme.dark.border }};
      --accent:{{ site.data.theme.dark.accent }};
    }
  </style>

  <link rel="icon" href="{{ '/images/favicon.ico' | relative_url }}">
  <script defer src="{{ '/assets/main.js?v=' | append: site.github.build_revision | relative_url }}"></script>
</head>
<body>

  <!-- HEADER -->
  <header class="header">
    <div class="container header__inner">
      <a href="{{ '/' | relative_url }}" class="brand" aria-label="NEARWEEK">
        <img class="brand-logo" src="{{ site.data.nav.logo_header | relative_url }}" alt="NEARWEEK">
      </a>

      <nav class="nav nav--desktop" aria-label="Hovednavigation">
        {% for item in site.data.nav.header %}
          <a href="{{ item.href | relative_url }}">{{ item.text }}</a>
        {% endfor %}
        <button class="theme-toggle" id="themeToggle" aria-label="Skift tema"></button>
      </nav>

      <button class="burger" id="burgerBtn" aria-label="Åbn menu" aria-expanded="false" aria-controls="mobileDrawer">
        <span></span><span></span><span></span>
      </button>
    </div>

    <!-- MOBILE DRAWER -->
    <aside class="drawer" id="mobileDrawer" aria-hidden="true">
      <div class="drawer__header">
        <img class="brand-logo" src="{{ site.data.nav.logo_header | relative_url }}" alt="NEARWEEK">
        <button class="drawer__close" id="drawerClose" aria-label="Luk menu">✕</button>
      </div>
      <nav class="drawer__nav" aria-label="Mobilnavigation">
        {% for item in site.data.nav.header %}
          <a href="{{ item.href | relative_url }}">{{ item.text }}</a>
        {% endfor %}
      </nav>
      <div class="drawer__footer">
        <button class="theme-toggle" id="themeToggleMobile">Dark mode</button>
      </div>
    </aside>
    <div class="drawer-backdrop" id="drawerBackdrop" hidden></div>
  </header>

  {{ content }}

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer__inner">
      <a href="{{ '/' | relative_url }}" aria-label="NEARWEEK">
        <img class="brand-logo brand-logo--footer" src="{{ site.data.nav.logo_footer | relative_url }}" alt="NEARWEEK">
      </a>
      <nav class="nav nav--footer" aria-label="Fodnavigation">
        {% for item in site.data.nav.footer %}
          <a href="{{ item.href | relative_url }}">{{ item.text }}</a>
        {% endfor %}
      </nav>
      <small>© {{ "now" | date: "%Y" }}, NEARWEEK. All rights reserved.</small>
    </div>
  </footer>

</body>
</html>
